<%- include ('layout/header') %>
<div class="content">
    <div class="container-fluid py-4">
    <div class="card">
        <div class="card-header" style="display: flex; justify-content: space-between;">
        <h4>Laporan Stok Barang</h4>
    </div>
    <div class = "card-body">   
    <div class="table-responsive">
    
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Kode Barang</th>
                    <th>Nama Barang</th>
                    <th>Stok</th>
                </tr>
            </thead>
            <tbody>
                <% let totalStok = 0; %>
                <% let nomorUrut = 1; %>
                <% stok.forEach(function(item) { %>
                    <tr>
                        <td><%= nomorUrut %></td>
                        <td><%= item.kode_barang %></td>
                        <td><%= item.nama_barang %></td>
                        <td><%= item.stok %></td>
                    </tr>
                    <% totalStok += +item.stok; %>
                    <% nomorUrut++; %>
                <% }); %>
            </tbody>                    
            <tfoot>
                <tr>
                    <th colspan="3">Total Stok</th>
                    <th><%= totalStok %> pcs</th>
                </tr>
            </tfoot>
        </table>
    </div>
    </div>
    </div>
</div>
</div>

    <script>
        // Memicu pencetakan otomatis saat halaman dimuat
        window.onload = function() {
            window.print();
        };
    </script>
<%- include ('layout/footer') %>